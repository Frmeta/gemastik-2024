[gd_scene load_steps=10 format=3 uid="uid://bws1nq6eecdhi"]

[ext_resource type="Texture2D" uid="uid://cobrhsehfn3w7" path="res://icon.svg" id="1_cp5sp"]
[ext_resource type="Script" path="res://Scenes/testingken/skeleton_mas.gd" id="1_ycg8v"]
[ext_resource type="Script" path="res://Scenes/mas_states/state_idle.gd" id="3_buvxv"]
[ext_resource type="Script" path="res://Scenes/mas_states/state_spawn.gd" id="4_hakrd"]
[ext_resource type="Script" path="res://Scenes/mas_states/state_despawn.gd" id="5_gy3ce"]
[ext_resource type="Script" path="res://Scenes/mas_states/state_hide.gd" id="5_t1qlh"]

[sub_resource type="SphereShape3D" id="SphereShape3D_qqqaj"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_q66yf"]
albedo_texture = ExtResource("1_cp5sp")

[sub_resource type="QuadMesh" id="QuadMesh_bg1c4"]
material = SubResource("StandardMaterial3D_q66yf")

[node name="skeleton_mas" type="CharacterBody3D" node_paths=PackedStringArray("current_state")]
motion_mode = 1
script = ExtResource("1_ycg8v")
current_state = NodePath("States/hide")
iteration = 20
SPEED = 3.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("SphereShape3D_qqqaj")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
mesh = SubResource("QuadMesh_bg1c4")

[node name="States" type="Node" parent="."]

[node name="hide" type="Node" parent="States" node_paths=PackedStringArray("mas", "next_state")]
script = ExtResource("5_t1qlh")
mas = NodePath("../..")
next_state = NodePath("../spawn")

[node name="spawn" type="Node" parent="States" node_paths=PackedStringArray("mas", "next_state")]
script = ExtResource("4_hakrd")
mas = NodePath("../..")
next_state = NodePath("../idle")

[node name="idle" type="Node" parent="States" node_paths=PackedStringArray("mas", "next_state")]
script = ExtResource("3_buvxv")
mas = NodePath("../..")
next_state = NodePath("../despawn")

[node name="despawn" type="Node" parent="States" node_paths=PackedStringArray("mas", "next_state")]
script = ExtResource("5_gy3ce")
mas = NodePath("../..")
next_state = NodePath("../hide")

[connection signal="change_state" from="States/hide" to="." method="change_state"]
[connection signal="change_state" from="States/spawn" to="." method="change_state"]
[connection signal="change_state" from="States/idle" to="." method="change_state"]
[connection signal="change_state" from="States/despawn" to="." method="change_state"]
