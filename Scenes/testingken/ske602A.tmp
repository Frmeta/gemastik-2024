[gd_scene load_steps=11 format=3 uid="uid://bws1nq6eecdhi"]

[ext_resource type="Texture2D" uid="uid://cobrhsehfn3w7" path="res://icon.svg" id="1_cp5sp"]
[ext_resource type="Script" path="res://Scripts/skeleton_mas.gd" id="1_qvy21"]
[ext_resource type="Script" path="res://Scripts/mas_states/state_hide.gd" id="3_k6b3b"]
[ext_resource type="Script" path="res://Scripts/mas_states/state_spawn.gd" id="4_3a044"]
[ext_resource type="Script" path="res://Scripts/mas_states/state_idle.gd" id="5_efagx"]
[ext_resource type="Script" path="res://Scripts/mas_states/state_despawn.gd" id="6_qcwol"]
[ext_resource type="PackedScene" uid="uid://cop3vrbddqrce" path="res://3D Assets/Mas.glb" id="7_8a32i"]

[sub_resource type="SphereShape3D" id="SphereShape3D_qqqaj"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_q66yf"]
albedo_texture = ExtResource("1_cp5sp")

[sub_resource type="QuadMesh" id="QuadMesh_bg1c4"]
material = SubResource("StandardMaterial3D_q66yf")

[node name="skeleton_mas" type="CharacterBody3D" node_paths=PackedStringArray("current_state")]
motion_mode = 1
script = ExtResource("1_qvy21")
current_state = NodePath("States/hide")
iteration = 20
SPEED = 3.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("SphereShape3D_qqqaj")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
visible = false
mesh = SubResource("QuadMesh_bg1c4")

[node name="States" type="Node" parent="."]

[node name="hide" type="Node" parent="States" node_paths=PackedStringArray("mas", "next_state")]
script = ExtResource("3_k6b3b")
mas = NodePath("../..")
next_state = NodePath("../spawn")

[node name="spawn" type="Node" parent="States" node_paths=PackedStringArray("mas", "next_state")]
script = ExtResource("4_3a044")
mas = NodePath("../..")
next_state = NodePath("../idle")

[node name="idle" type="Node" parent="States" node_paths=PackedStringArray("mas", "next_state")]
script = ExtResource("5_efagx")
mas = NodePath("../..")
next_state = NodePath("../despawn")

[node name="despawn" type="Node" parent="States" node_paths=PackedStringArray("mas", "next_state")]
script = ExtResource("6_qcwol")
mas = NodePath("../..")
next_state = NodePath("../hide")

[node name="Mas" parent="." instance=ExtResource("7_8a32i")]

[connection signal="change_state" from="States/hide" to="." method="change_state"]
[connection signal="change_state" from="States/spawn" to="." method="change_state"]
[connection signal="change_state" from="States/idle" to="." method="change_state"]
[connection signal="change_state" from="States/despawn" to="." method="change_state"]
